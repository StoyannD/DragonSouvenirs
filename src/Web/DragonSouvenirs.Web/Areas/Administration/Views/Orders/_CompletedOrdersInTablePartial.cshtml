@using DragonSouvenirs.Data.Models.Enums
@using DragonSouvenirs.Web.Extensions
@model DragonSouvenirs.Web.ViewModels.Administration.Orders.OrderViewModel

<td>@this.Model.DeliveryType.GetDisplayName()</td>
<td>@this.Model.OfficeBrand</td>
<td>@this.Model.ShippingAddressShort</td>
<td>@this.Model.UserEmail</td>
<td>@this.Model.ClientFullName</td>
<td>@this.Model.TotalPrice</td>
<td>@this.Model.CreatedOn.ToString("g")</td>
<td>@(this.Model.DateOfDelivery?.ToString("g"))</td>
<td>
    <div class="d-inline-block" style="width: 18rem;">
        <form class="form-check-inline"
              method="post"
              asp-area="Administration"
              asp-controller="Orders"
              asp-action="ChangeStatus"
              asp-route-orderId="@Model.Id">
            <select asp-for="@this.Model.OrderStatus"
                    asp-items="@Html.GetEnumSelectList<OrderStatus>()"
                    onchange="this.form.submit();"
                    class="form-control">
                <option selected="selected" value="@this.Model.OrderStatus"></option>
            </select>
        </form>
    </div>
</td>
<td>
    <div class="d-flex flex-row justify-content-center">
        <div class="p-2">
            <a class="btn btn-warning"
               asp-area="Administration"
               asp-controller="Orders"
               asp-action="Details"
               asp-route-id="@Model.Id">Details</a>
        </div>
    </div>
</td>